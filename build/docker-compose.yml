{ "services": { "frontend": { "env_file": "build/.env", "restart": "on-failure", "networks": [ "backend" ], "environment": { "DB_HOST": "postgres", "DB_NAME": "postgres", "DB_USER": "user", "DB_PASS": "password", "SMTP_HOST": "mailcatcher", "SMTP_PORT": "1025", "SMTP_PASS": "", "SMTP_USER": "", "QUEUE_BACKEND": "redis", "QUEUE_HOST": "redis" }, "ports": [ "8119:8080" ], "volumes": [], "build": { "dockerfile": "frontend/Dockerfile", "context": ".", "args": { "BACKEND_PREFIX": "http://localhost:8150", "VERSION": "2025-02-24 01:43" } } }, "mailcatcher": { "networks": [ "backend" ], "restart": "on-failure", "image": "dockage/mailcatcher:0.9.0", "ports": [ "1080:1080", "1025:1025" ] }, "postgres": { "image": "postgres:latest", "networks": [ "backend" ], "environment": { "POSTGRES_USER": "user", "POSTGRES_PASSWORD": "password", "POSTGRES_DB": "mydb" }, "ports": [ "5532:5432" ] }, "redis": { "image": "redis:latest", "networks": [ "backend" ], "ports": [ "6379:6379" ] }, "backend_server": { "env_file": "build/.env", "restart": "on-failure", "networks": [ "backend" ], "environment": { "DB_HOST": "postgres", "DB_NAME": "postgres", "DB_USER": "user", "DB_PASS": "password", "SMTP_HOST": "mailcatcher", "SMTP_PORT": "1025", "SMTP_PASS": "", "SMTP_USER": "", "QUEUE_BACKEND": "redis", "QUEUE_HOST": "redis" }, "ports": [ "8150:8080" ], "command": [ "server" ], "volumes": [], "build": { "dockerfile": "backend/Dockerfile", "context": ".", "args": { "VERSION": "2025-02-24 01:43" } } }, "backend_consume_mail": { "env_file": "build/.env", "restart": "on-failure", "networks": [ "backend" ], "environment": { "DB_HOST": "postgres", "DB_NAME": "postgres", "DB_USER": "user", "DB_PASS": "password", "SMTP_HOST": "mailcatcher", "SMTP_PORT": "1025", "SMTP_PASS": "", "SMTP_USER": "", "QUEUE_BACKEND": "redis", "QUEUE_HOST": "redis" }, "ports": [], "command": [ "consume", "mail" ], "volumes": [ "attachments_v1:/var/attachments" ], "build": { "dockerfile": "backend/Dockerfile", "context": ".", "args": { "VERSION": "2025-02-24 01:43" } } }, "backend_consume_render": { "env_file": "build/.env", "restart": "on-failure", "networks": [ "backend" ], "environment": { "DB_HOST": "postgres", "DB_NAME": "postgres", "DB_USER": "user", "DB_PASS": "password", "SMTP_HOST": "mailcatcher", "SMTP_PORT": "1025", "SMTP_PASS": "", "SMTP_USER": "", "QUEUE_BACKEND": "redis", "QUEUE_HOST": "redis" }, "ports": [], "command": [ "consume", "render" ], "volumes": [ "attachments_v1:/var/attachments" ], "build": { "dockerfile": "backend/Dockerfile", "context": ".", "args": { "VERSION": "2025-02-24 01:55" } } } }, "networks": { "backend": { "driver": "bridge" } }, "volumes": { "attachments_v1": {} } }
